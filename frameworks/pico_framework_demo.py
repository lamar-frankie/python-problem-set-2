Walk through this demo: https://github.com/fergalwalsh/pico